# Модуль: Тестирование игроков

## Назначение

Управление тестами игроков и учёт результатов: создание и настройка тестов, ввод результатов, импорт данных, отображение динамики физической подготовки (в т.ч. радар-графики). Экспорт форм для тестирования по коду команды.

## Основные сущности

- **Test** — тип/шаблон теста (название, параметры, привязка к тренеру/команде).  
- **PlayerTest** — результат теста конкретного игрока (связь User + Test, дата, значения показателей).  
- Связи: тесты привязаны к команде/тренеру; результаты — к пользователю (игроку) и тесту.

## Ключевые маршруты (web)

| Метод | Маршрут | Контроллер | Описание |
|-------|---------|------------|----------|
| GET | `/tests` | TestController@index | Список тестов |
| POST | `/tests` | TestController@store | Создание теста |
| GET | `/tests/{test}` | TestController@show | Просмотр теста и результатов |
| PATCH | `/tests/{test}` | TestController@update | Обновление теста |
| DELETE | `/tests/{test}` | TestController@destroy | Удаление теста |
| GET | `/teams/{team}/players` | TestController@getPlayersForTeam | Игроки команды (для выбора в тестах) |
| - | Resource `player-tests` | PlayerTestController | CRUD результатов тестов игроков |
| GET | `/admin/tests/import` | PlayerTestImportController@create | Форма импорта результатов тестов |
| POST | `/admin/tests/import` | PlayerTestImportController@store | Загрузка импорта |
| GET | `/export/testing-form/{teamCode}` | ExportController@exportTestingForm | Экспорт формы для тестирования по коду команды |

Маршруты доступны пользователям с ролью `coach` (middleware `auth`, `coach`), кроме импорта и экспорта, которые могут быть ограничены по ролям.

## Функциональность

- Создание и редактирование тестов с настройкой показателей.  
- Ввод и редактирование результатов по каждому игроку и дате.  
- Импорт результатов тестов (массовая загрузка).  
- Визуализация динамики (радар-графики и др.) для оценки физической подготовки.  
- Экспорт бланка тестирования по `teamCode` для печати или заполнения вне системы.

## Модели и связи

- **Test**: принадлежит тренеру/команде; имеет много результатов **PlayerTest**.  
- **PlayerTest**: связь с User (игрок) и Test; дата, значения показателей.

## Связь с другими модулями

- Пользователи и команды: тесты привязаны к команде; результаты — к игрокам ([01-module-users](01-module-users.md), [02-module-teams](02-module-teams.md)).  
- Дашборд и отчёты: результаты тестов отображаются в админке и отчётах тренера.
