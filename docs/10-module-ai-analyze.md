# Модуль: AI-анализ

## Назначение

Анализ данных о состоянии спортсменов с помощью ИИ: мониторинг состояния и риска травм, рекомендации по нагрузкам и планированию, прогноз формы к соревнованиям. Доступ к функции может ограничиваться флагом у пользователя (включается super-admin через `update-ai`).

## Ключевые маршруты

### Web

| Метод | Маршрут | Контроллер | Описание |
|-------|---------|------------|----------|
| POST | `/ai-analyze` | AIAnalyzeController@analyze | Запрос анализа (отправка данных и получение результата) |

Маршрут доступен пользователям с ролью `coach` (middleware `auth`, `coach`). При необходимости доступ дополнительно ограничивается флагом «доступ к AI» у пользователя.

### API

| Метод | Маршрут | Описание |
|-------|---------|----------|
| POST | `/api/ai/analyze` | Генерация/анализ (TeamController@generate) — может использоваться для интеграции с внешними сервисами или ботом |

## Поведение

- Тренер в веб-интерфейсе инициирует анализ (выбор команды/игроков, период и т.д.).  
- Данные (состояние игроков, нагрузка, опросы, травмы и т.д.) передаются в сервис анализа; результат отображается в виде рекомендаций и метрик.  
- Внешний сервис ИИ или внутренняя логика формируют выводы по рискам травм, нагрузке и форме.

## Связь с другими модулями

- Пользователи: флаг доступа к AI выставляется super-admin ([01-module-users](01-module-users.md)).  
- Load Control и опросы: данные опросов используются как вход для анализа ([07-module-load-control](07-module-load-control.md)).  
- Тренировки и посещаемость: нагрузка и явка учитываются в анализе ([03-module-trainings](03-module-trainings.md), [04-module-attendance](04-module-attendance.md)).
